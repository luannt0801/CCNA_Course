# 1-8-2024 | EIRGP vÃ  OSPF

# 1. EIGRP

CÃ¡c cÃ¡i cÃ³ ip router lÃ  EIGRP, OSPF, BSP, â€¦

Loopback 0

trong trÆ°á»ng há»£p cÃ³ nhiá»u interface Loopback (1,2,3 â€¦) cÃ³ nhiá»u IP thÃ¬ sáº½ láº¥y cÃ¡i IP cao nháº¥t lÃ m EI

â‡’ Interface loopback ko phá»¥ thuá»™c vÃ o lá»—i pháº§n cá»©ng lÃ m router ID

> Router â€“ id trÃªn router cháº¡y OSPF cÃ³ Ä‘á»‹nh dáº¡ng cá»§a má»™t Ä‘á»‹a chá»‰ IP. Máº·c Ä‘á»‹nh, tiáº¿n trÃ¬nh OSPF trÃªn má»—i router sáº½ tá»± Ä‘á»™ng báº§u chá»n giÃ¡ trá»‹ router â€“ id lÃ Â **Ä‘á»‹a chá»‰ IP cao nháº¥t trong cÃ¡c interface Ä‘ang active, Æ°u tiÃªn cá»•ng loopback**.
> 

Link - state ( up/down, tráº¡ng thÃ¡i)

â†’ CÃ³ báº£ng link-state â†’ tá»± router tÃ­nh toÃ¡n khoáº£ng cÃ¡ch

â€”> Báº£ng topology  â€”> tÃ­nh toÃ¡n quÃ£ng Ä‘Æ°á»ng, dá»± phÃ²ng Ä‘Æ°á»ng lá»—i.

distance vector â€”> tá»‡ vá» lá» ğŸ™‚

## IGP vÃ  EGP ( Ä‘á»‹nh tuyáº¿n trong vÃ  Ä‘á»‹nh tuyáº¿n ngoÃ i protocol)

IGP: EIRGP, OSPF, ISIS

EGP: BGP, EGP

## Classless vÃ  class full

Classless mang thÃ´ng tin vá» cÃ¡c subnet mask. Topo cÃ³ nhiá»u subnetmassk â†’ vis

Classfull thÃ¬ nhÆ°á»£c Ä‘iá»ƒm lÃ  cÃ¡c class mask pháº£i cÃ³ giÃ¡ trá»‹ giá»‘ng nhau.

## GiÃ¡ trá»‹ AD - administrative Distance

AD cÃ ng nhá» cÃ ng tin cáº­y, tá»« 0-255

Vá»›i EIGRP thÃ¬ AD = 90

RIPv1 thÃ¬ AD = 120

Äá»‘i vá»›i multiple routing protocols router thÃ¬ giÃ¡ trá»‹ AD Ä‘Æ°á»£c cáº¥u hÃ¬nh trÃªn tá»«ng AD nháº±m giÃºp lá»±a chá»n con Ä‘Æ°á»ng ngáº¯n nháº¥t theo tá»« protocol.

BGP: 20 & 200

EIRGP lÃ  224.0.0.X X = 10

RIP X = 9

dÃ¹ng Ä‘á»ƒ cáº­p nháº­t cÃ¡c Ä‘á»‹nh tuyáº¿n.

## EIRGP path selection

Route tá»‘t nháº¥t lÃ  Successor - S

backup router - SS  | khÃ´ng pháº£i tá»‘t nhaast nhÆ°ng dÃ¹ng Ä‘á»ƒ backup.

AD/RD - lÃ   advertised distance/reported distance 

FD = AD + Metric

![Untitled](1-8-2024%20EIRGP%20va%CC%80%20OSPF%2070fcd9cbc04a4763a3622f682a604d26/Untitled.png)

> AD cá»§a FS < FD cá»§a S Ä‘á»ƒ trÃ¡nh loop free
> 

AS number

# 2. OSPF

Viá»‡c chia OSPF thÃ nh nhiá»u area mang láº¡i cÃ¡c lá»£i Ã­ch sau:

- **Giáº£m táº£i xá»­ lÃ½**: Viá»‡c chia máº¡ng thÃ nh cÃ¡c khu vá»±c giÃºp giáº£m táº£i xá»­ lÃ½ cho cÃ¡c router báº±ng cÃ¡ch giáº£m sá»‘ lÆ°á»£ng thÃ´ng tin Ä‘á»‹nh tuyáº¿n cáº§n pháº£i xá»­ lÃ½.
- **Quáº£n lÃ½ dá»… dÃ ng hÆ¡n**: Máº¡ng Ä‘Æ°á»£c phÃ¢n chia thÃ nh cÃ¡c khu vá»±c nhá» hÆ¡n vÃ  rÃµ rÃ ng hÆ¡n, giÃºp dá»… dÃ ng quáº£n lÃ½ vÃ  xá»­ lÃ½ sá»± cá»‘.
- **Tá»‘i Æ°u hÃ³a bÄƒng thÃ´ng**: Giáº£m lÆ°á»£ng bÄƒng thÃ´ng sá»­ dá»¥ng cho viá»‡c cáº­p nháº­t thÃ´ng tin Ä‘á»‹nh tuyáº¿n, do cÃ¡c router trong má»™t khu vá»±c chá»‰ cáº§n biáº¿t cÃ¡c tuyáº¿n Ä‘Æ°á»ng trong khu vá»±c Ä‘Ã³ vÃ  cÃ¡c tuyáº¿n Ä‘Æ°á»ng tÃ³m táº¯t tá»« cÃ¡c khu vá»±c khÃ¡c thÃ´ng qua border router.
- **TÄƒng cÆ°á»ng báº£o máº­t**: Háº¡n cháº¿ chia sáº» routing giá»¯a khu vá»±c khÃ¡c nhau tá»« Ä‘Ã³ giáº£m nguy cÆ¡ táº¥n cÃ´ng, lá»™ thÃ´ng tin nháº¡y cáº£m.

**Area 0 (Backbone Area):**

- **Area 0**, cÃ²n Ä‘Æ°á»£c gá»i lÃ Â **Backbone Area**, lÃ  khu vá»±c trung tÃ¢m vÃ  quan trá»ng nháº¥t trong OSPF. Táº¥t cáº£ cÃ¡c khu vá»±c khÃ¡c pháº£i káº¿t ná»‘i trá»±c tiáº¿p hoáº·c giÃ¡n tiáº¿p vá»›i Area 0 Ä‘á»ƒ cÃ³ thá»ƒ trao Ä‘á»•i thÃ´ng tin Ä‘á»‹nh tuyáº¿n láº«n nhau. (vÃ¬ náº¿u khÃ´ng cÃ³ area 0 thÃ¬ cÃ¡c router chá»‰ trao Ä‘á»•i thÃ´ng Ä‘á»‹nh tuyáº¿n giá»¯a cÃ¡c router trong cÃ¹ng má»™t area)
- Backbone Area lÃ  cáº§u ná»‘i truyá»n táº£i thÃ´ng tin Ä‘á»‹nh tuyáº¿n giá»¯a cÃ¡c khu vá»±c khÃ¡c nhau trong máº¡ng OSPF, Ä‘áº£m báº£o ráº±ng táº¥t cáº£ cÃ¡c khu vá»±c cÃ³ thá»ƒ giao tiáº¿p vá»›i nhau.

**Non-backbone Areas**

CÃ¡c khu vá»±c ngoÃ i Backbone Area (Area 0) Ä‘Æ°á»£c gá»i lÃ  Non-backbone Areas. CÃ¡c loáº¡i Non-backbone Areas bao gá»“m:

- **Standard Area**: ÄÃ¢y lÃ  loáº¡i khu vá»±c thÃ´ng thÆ°á»ng, khÃ´ng cÃ³ báº¥t ká»³ háº¡n cháº¿ nÃ o vá» viá»‡c cháº¥p nháº­n cÃ¡c loáº¡i thÃ´ng tin Ä‘á»‹nh tuyáº¿n.
- **Stub Area**: Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ giáº£m lÆ°á»£ng thÃ´ng tin Ä‘á»‹nh tuyáº¿n bÃªn ngoÃ i cáº§n Ä‘Æ°á»£c lÆ°u trá»¯ vÃ  xá»­ lÃ½ trong khu vá»±c. Má»™t Stub Area khÃ´ng cháº¥p nháº­n cÃ¡c external route (cÃ¡c tuyáº¿n Ä‘Æ°á»ng tá»« cÃ¡c Autonomous System khÃ¡c), chá»‰ cháº¥p nháº­n má»™t tuyáº¿n máº·c Ä‘á»‹nh duy nháº¥t tá»« cÃ¡c ABR.
- **Totally Stubby Area (TSA)**: ÄÃ¢y lÃ  má»™t dáº¡ng má»Ÿ rá»™ng cá»§a Stub Area, trong Ä‘Ã³ khÃ´ng chá»‰ cháº·n cÃ¡c external route mÃ  cÃ²n cháº·n luÃ´n cÃ¡c summary route tá»« cÃ¡c khu vá»±c khÃ¡c. Chá»‰ cÃ³ má»™t tuyáº¿n máº·c Ä‘á»‹nh duy nháº¥t Ä‘Æ°á»£c quáº£ng bÃ¡ trong Totally Stubby Area.
- **Not-so-stubby Area (NSSA)**: lÃ  má»™t biáº¿n thá»ƒ cá»§a Stub Area, cho phÃ©p nháº­n cÃ¡c external route thÃ´ng qua cÃ¡c bá»™ Ä‘á»‹nh tuyáº¿n biÃªn (ASBRs). Äiá»u nÃ y giÃºp NSSA duy trÃ¬ má»™t sá»‘ tÃ­nh nÄƒng cá»§a Stub Area trong khi váº«n cho phÃ©p Ä‘á»‹nh tuyáº¿n Ä‘á»™ng tá»« cÃ¡c nguá»“n bÃªn ngoÃ i.